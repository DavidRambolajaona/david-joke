{% extends 'base.html' %}

{% block head %}
<title>Gestion des blagues</title>
{% endblock %}

{% block body %}

<div id="fondu-noir"><div class="text-white">Chargement <span class="fa fa-hourglass-o" aria-hidden="true"></span></div></div>

<div class="container-fluid pt-5">

    {% include 'includes/navbar.html' %}

    {% include 'includes/modal_managing_joke.html' %}

    <div class="row row mt-4 mb-3">
        <div class="col d-flex justify-content-center">
            <button class="btn btn-outline-light" data-toggle="modal" data-target="#modalAddJoke">Ajouter une blague</button>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <h2 class="text-white">Liste des blagues</h2>

            <table class="table table-striped table-bordered table-hover table-light">
                <thead class="thead-dark">
                    <tr>
                        <th>NÂ°</th>
                        <th>Texte</th>
                    </tr>
                </thead>
                
                <tbody>
                    {% for joke in jokes %}
                    <tr class="app-clickable" joke-id="{{joke.joke_id}}" data-toggle="modal" data-target="#modalJoke">
                        <td>{{joke.joke_id}}</td>
                        <td>
                            <span class="badge badge-info">{{joke.joke_category.category_text}}</span>
                            <p class="app-text-ln">{{joke.joke_text}}</p>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
                
            </table>
        </div>
    </div>

</div>

{% include 'includes/scriptjs.html' %}
<script type="text/javascript" src="{{ url_for('static', filename='js/app/jokes.js') }}"></script>


{% endblock %}